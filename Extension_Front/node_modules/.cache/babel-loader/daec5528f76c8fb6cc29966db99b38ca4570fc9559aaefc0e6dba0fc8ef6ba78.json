{"ast":null,"code":"import{google}from'googleapis';import getAuthenticate from'./getOauth2Client.js';import path from'path';let fs;if(typeof window==='undefined'){fs=require('fs');}async function getSubscriptions(){const oauth2Client=await getAuthenticate();let result=[];let params={part:'snippet',mine:true,order:'unread',maxResults:50,headers:{'Content-Type':'application/json'}};while(true){let youtubeRes=await google.youtube({version:'v3',auth:oauth2Client}).subscriptions.list(params);result=[...result,...youtubeRes.data.items.map(item=>({channelId:item.snippet.resourceId.channelId,channelTitle:item.snippet.title,thumbnail:item.snippet.thumbnails.default.url}))];if(youtubeRes.data.nextPageToken==undefined){break;}else{params.pageToken=youtubeRes.data.nextPageToken;}}if(fs){fs.writeFileSync('subscriptions.json',JSON.stringify(result,null,2));}else{console.log('Subscriptions:',JSON.stringify(result,null,2));}return result;}export default getSubscriptions;","map":{"version":3,"names":["google","getAuthenticate","path","fs","window","require","getSubscriptions","oauth2Client","result","params","part","mine","order","maxResults","headers","youtubeRes","youtube","version","auth","subscriptions","list","data","items","map","item","channelId","snippet","resourceId","channelTitle","title","thumbnail","thumbnails","default","url","nextPageToken","undefined","pageToken","writeFileSync","JSON","stringify","console","log"],"sources":["/Users/davidkim/Desktop/YourTube_Extension/24-1_YourTube/src/youtueb_API/getSubscriptions.js"],"sourcesContent":["import { google } from 'googleapis';\nimport getAuthenticate from './getOauth2Client.js';\nimport path from 'path';\n\nlet fs;\nif (typeof window === 'undefined') {\n  fs = require('fs');\n}\n\nasync function getSubscriptions() {\n  const oauth2Client = await getAuthenticate();\n\n  let result = [];\n  let params = {\n    part: 'snippet',\n    mine: true,\n    order: 'unread',\n    maxResults: 50,\n    headers: { 'Content-Type': 'application/json' }\n  };\n\n  while (true) {\n    let youtubeRes = await google.youtube({\n      version: 'v3',\n      auth: oauth2Client\n    }).subscriptions.list(params);\n\n    result = [...result, ...youtubeRes.data.items.map(item => ({\n      channelId: item.snippet.resourceId.channelId,\n      channelTitle: item.snippet.title,\n      thumbnail: item.snippet.thumbnails.default.url\n    }))];\n\n    if (youtubeRes.data.nextPageToken == undefined) {\n      break;\n    } else {\n      params.pageToken = youtubeRes.data.nextPageToken;\n    }\n  }\n\n  if (fs) {\n    fs.writeFileSync('subscriptions.json', JSON.stringify(result, null, 2));\n  } else {\n    console.log('Subscriptions:', JSON.stringify(result, null, 2));\n  }\n\n  return result;\n}\n\nexport default getSubscriptions;\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,YAAY,CACnC,MAAO,CAAAC,eAAe,KAAM,sBAAsB,CAClD,MAAO,CAAAC,IAAI,KAAM,MAAM,CAEvB,GAAI,CAAAC,EAAE,CACN,GAAI,MAAO,CAAAC,MAAM,GAAK,WAAW,CAAE,CACjCD,EAAE,CAAGE,OAAO,CAAC,IAAI,CAAC,CACpB,CAEA,cAAe,CAAAC,gBAAgBA,CAAA,CAAG,CAChC,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAN,eAAe,CAAC,CAAC,CAE5C,GAAI,CAAAO,MAAM,CAAG,EAAE,CACf,GAAI,CAAAC,MAAM,CAAG,CACXC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,QAAQ,CACfC,UAAU,CAAE,EAAE,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAED,MAAO,IAAI,CAAE,CACX,GAAI,CAAAC,UAAU,CAAG,KAAM,CAAAf,MAAM,CAACgB,OAAO,CAAC,CACpCC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAEX,YACR,CAAC,CAAC,CAACY,aAAa,CAACC,IAAI,CAACX,MAAM,CAAC,CAE7BD,MAAM,CAAG,CAAC,GAAGA,MAAM,CAAE,GAAGO,UAAU,CAACM,IAAI,CAACC,KAAK,CAACC,GAAG,CAACC,IAAI,GAAK,CACzDC,SAAS,CAAED,IAAI,CAACE,OAAO,CAACC,UAAU,CAACF,SAAS,CAC5CG,YAAY,CAAEJ,IAAI,CAACE,OAAO,CAACG,KAAK,CAChCC,SAAS,CAAEN,IAAI,CAACE,OAAO,CAACK,UAAU,CAACC,OAAO,CAACC,GAC7C,CAAC,CAAC,CAAC,CAAC,CAEJ,GAAIlB,UAAU,CAACM,IAAI,CAACa,aAAa,EAAIC,SAAS,CAAE,CAC9C,MACF,CAAC,IAAM,CACL1B,MAAM,CAAC2B,SAAS,CAAGrB,UAAU,CAACM,IAAI,CAACa,aAAa,CAClD,CACF,CAEA,GAAI/B,EAAE,CAAE,CACNA,EAAE,CAACkC,aAAa,CAAC,oBAAoB,CAAEC,IAAI,CAACC,SAAS,CAAC/B,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CACzE,CAAC,IAAM,CACLgC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEH,IAAI,CAACC,SAAS,CAAC/B,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CAChE,CAEA,MAAO,CAAAA,MAAM,CACf,CAEA,cAAe,CAAAF,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}