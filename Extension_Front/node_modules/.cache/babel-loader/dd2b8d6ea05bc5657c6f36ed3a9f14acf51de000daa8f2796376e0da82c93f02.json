{"ast":null,"code":"import{google}from'googleapis';import getAuthenticate from'./getOauth2Client.mjs';function downloadFile(data,fileName){const json=JSON.stringify(data,null,2);const blob=new Blob([json],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=fileName;document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url);}async function getSubscriptions(){const oauth2Client=await getAuthenticate();let result=[];let params={part:'snippet',mine:true,order:'unread',maxResults:50,headers:{'Content-Type':'application/json'}};while(true){let youtubeRes=await google.youtube({version:'v3',auth:oauth2Client}).subscriptions.list(params);result=[...result,...youtubeRes.data.items.map(item=>({channelId:item.snippet.resourceId.channelId,channelTitle:item.snippet.title,thumbnail:item.snippet.thumbnails.default.url}))];if(youtubeRes.data.nextPageToken==undefined){break;}else{params.pageToken=youtubeRes.data.nextPageToken;}}downloadFile(result,'subscriptions.json');console.log('Subscriptions saved as JSON file.');return result;}export default getSubscriptions;","map":{"version":3,"names":["google","getAuthenticate","downloadFile","data","fileName","json","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","remove","revokeObjectURL","getSubscriptions","oauth2Client","result","params","part","mine","order","maxResults","headers","youtubeRes","youtube","version","auth","subscriptions","list","items","map","item","channelId","snippet","resourceId","channelTitle","title","thumbnail","thumbnails","default","nextPageToken","undefined","pageToken","console","log"],"sources":["/Users/davidkim/Desktop/YourTube_Extension/24-1_YourTube/src/youtueb_API/getSubscriptions.js"],"sourcesContent":["import { google } from 'googleapis';\nimport getAuthenticate from './getOauth2Client.mjs';\n\nfunction downloadFile(data, fileName) {\n    const json = JSON.stringify(data, null, 2);\n    const blob = new Blob([json], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    URL.revokeObjectURL(url);\n}\n\nasync function getSubscriptions() {\n    const oauth2Client = await getAuthenticate();\n\n    let result = [];\n    let params = {\n        part: 'snippet',\n        mine: true,\n        order: 'unread',\n        maxResults: 50,\n        headers: { 'Content-Type': 'application/json' }\n    };\n\n    while (true) {\n        let youtubeRes = await google.youtube({\n            version: 'v3',\n            auth: oauth2Client\n        }).subscriptions.list(params);\n\n        result = [...result, ...youtubeRes.data.items.map(item => ({\n            channelId: item.snippet.resourceId.channelId,\n            channelTitle: item.snippet.title,\n            thumbnail: item.snippet.thumbnails.default.url\n        }))];\n\n        if (youtubeRes.data.nextPageToken == undefined) {\n            break;\n        } else {\n            params.pageToken = youtubeRes.data.nextPageToken;\n        }\n    }\n\n    downloadFile(result, 'subscriptions.json');\n    console.log('Subscriptions saved as JSON file.');\n    return result;\n}\n\nexport default getSubscriptions;\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,YAAY,CACnC,MAAO,CAAAC,eAAe,KAAM,uBAAuB,CAEnD,QAAS,CAAAC,YAAYA,CAACC,IAAI,CAAEC,QAAQ,CAAE,CAClC,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAE,IAAI,CAAE,CAAC,CAAC,CAC1C,KAAM,CAAAK,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACJ,IAAI,CAAC,CAAE,CAAEK,IAAI,CAAE,kBAAmB,CAAC,CAAC,CAC3D,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CACrC,KAAM,CAAAM,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGN,GAAG,CACZG,CAAC,CAACI,QAAQ,CAAGd,QAAQ,CACrBW,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,CAAC,CAAC,CAC5BA,CAAC,CAACO,KAAK,CAAC,CAAC,CACTP,CAAC,CAACQ,MAAM,CAAC,CAAC,CACVV,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC,CAC5B,CAEA,cAAe,CAAAa,gBAAgBA,CAAA,CAAG,CAC9B,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAxB,eAAe,CAAC,CAAC,CAE5C,GAAI,CAAAyB,MAAM,CAAG,EAAE,CACf,GAAI,CAAAC,MAAM,CAAG,CACTC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,QAAQ,CACfC,UAAU,CAAE,EAAE,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAClD,CAAC,CAED,MAAO,IAAI,CAAE,CACT,GAAI,CAAAC,UAAU,CAAG,KAAM,CAAAjC,MAAM,CAACkC,OAAO,CAAC,CAClCC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAEX,YACV,CAAC,CAAC,CAACY,aAAa,CAACC,IAAI,CAACX,MAAM,CAAC,CAE7BD,MAAM,CAAG,CAAC,GAAGA,MAAM,CAAE,GAAGO,UAAU,CAAC9B,IAAI,CAACoC,KAAK,CAACC,GAAG,CAACC,IAAI,GAAK,CACvDC,SAAS,CAAED,IAAI,CAACE,OAAO,CAACC,UAAU,CAACF,SAAS,CAC5CG,YAAY,CAAEJ,IAAI,CAACE,OAAO,CAACG,KAAK,CAChCC,SAAS,CAAEN,IAAI,CAACE,OAAO,CAACK,UAAU,CAACC,OAAO,CAACtC,GAC/C,CAAC,CAAC,CAAC,CAAC,CAEJ,GAAIsB,UAAU,CAAC9B,IAAI,CAAC+C,aAAa,EAAIC,SAAS,CAAE,CAC5C,MACJ,CAAC,IAAM,CACHxB,MAAM,CAACyB,SAAS,CAAGnB,UAAU,CAAC9B,IAAI,CAAC+C,aAAa,CACpD,CACJ,CAEAhD,YAAY,CAACwB,MAAM,CAAE,oBAAoB,CAAC,CAC1C2B,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAChD,MAAO,CAAA5B,MAAM,CACjB,CAEA,cAAe,CAAAF,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}